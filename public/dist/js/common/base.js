define(function(require,exports,module){var t,e,i,a,$=require("jquery"),n=document.getElementById("waveCanvas"),o=n.getContext("2d"),r=$(n).parent(),s=function(){e=r.height(),t=r.width(),n.setAttribute("width",Math.round(t)),n.setAttribute("height",Math.round(e)),n.style.width=t+"px",n.style.height=e+"px",i=n.height-n.height/2.7,a=n.height/7.5,o.strokeStyle="#fff",o.fillStyle="#fff",o.clearRect(0,0,t,e)};module.exports={wave:function(n){function r(){this.amp=10+12*Math.random(),this.freq=.0044,this.phase=2+2*Math.random(),this.offset=2+4*Math.random(),t/f<680&&(this.amp=2+6*Math.random(),this.freq=.018,this.phase=1+2*Math.random(),this.offset=1+2*Math.random()),this.point=function(t){return i-v()+this.offset+this.amp*Math.sin(this.freq*t+this.phase+c*d)}}function h(){o.clearRect(0,0,t,e),o.beginPath();for(var i=0;i<t+2;i++)o.lineTo(i,(p.point(i)*m+p.point(i))*u);d=(d-1)%l,o.lineTo(t,e),o.lineTo(0,e),o.closePath(),o.stroke(),o.fill()}s(),$(window).resize(function(){s()});var f=window.devicePixelRatio?window.devicePixelRatio:1,l=340,c=2*Math.PI/l,d=10,u=.41,m=2.5,v=function(){var t=new Date;return a/2*Math.abs(t.getSeconds()+t.getMilliseconds()/1e3-30)/30},p=new r,g=60,w=1e3/g>>0;setInterval(h,w)},navigation:function(){$.ajax({url:"/api/getNavInfo",dataType:"json",success:function(t){var e="",i=t;for(var a in t){var n=t[a];e+='<li><a href="/u/'+n.name+"/"+n.time.day+"/"+n.title+'">'+n.title+"</a>"}for(var o,r=i.length,a=0;a<r;a++)for(var s=new Date(i[a].lastTime),h=0;h<r;h++){var f=new Date(i[h].lastTime);s>f&&(o=i[h],i[h]=i[a],i[a]=o)}var l="";for(var a in i){if(a>2)break;var n=i[a];l+='<li class="recentcomments"><a href="/u/'+n.name+"/"+n.time.day+"/"+n.title+'">'+n.title+"</a>"}$("#recent-posts-2").find("ul").html(e),$("#recentcomments").html(l)}}),$(".nav-switch").on("click",function(){$("body").toggleClass("isOpen"),s()})}}});